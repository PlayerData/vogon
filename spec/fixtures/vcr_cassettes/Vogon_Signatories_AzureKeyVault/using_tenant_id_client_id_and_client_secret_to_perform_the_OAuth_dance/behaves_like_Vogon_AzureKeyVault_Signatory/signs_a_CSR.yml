---
http_interactions:
- request:
    method: post
    uri: https://login.microsoftonline.com/73081428-e0d9-4468-ad4c-c89aec3a6f35/oauth2/token
    body:
      encoding: UTF-8
      string: "--------------------------cw4jfXX5PV2-RJ9i\r\nContent-Disposition:
        form-data; name=\"client_id\"\r\n\r\n<CLIENT_ID>\r\n--------------------------cw4jfXX5PV2-RJ9i\r\nContent-Disposition:
        form-data; name=\"client_secret\"\r\n\r\n<CLIENT_SECRET>\r\n--------------------------cw4jfXX5PV2-RJ9i\r\nContent-Disposition:
        form-data; name=\"grant_type\"\r\n\r\nclient_credentials\r\n--------------------------cw4jfXX5PV2-RJ9i\r\nContent-Disposition:
        form-data; name=\"resource\"\r\n\r\nhttps://vault.azure.net\r\n--------------------------cw4jfXX5PV2-RJ9i--\r\n"
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Content-Type:
      - multipart/form-data; boundary=------------------------cw4jfXX5PV2-RJ9i
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - no-cache, no-store
      Pragma:
      - no-cache
      Content-Type:
      - application/json; charset=utf-8
      Expires:
      - "-1"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Ms-Request-Id:
      - cc964eab-9ed3-4d89-91a9-d02efff53b00
      X-Ms-Ests-Server:
      - 2.1.9395.17 - AMS1 ProdSlices
      P3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      Set-Cookie:
      - fpc=AlEH609ACV5EvmOX5rygydyahw62AQAAANaJHtUOAAAA; expires=Sat, 26-Oct-2019
        10:28:38 GMT; path=/; secure; HttpOnly
      - stsservicecookie=ests; path=/; secure; HttpOnly
      - x-ms-gateway-slice=prod; path=/; secure; HttpOnly
      Date:
      - Thu, 26 Sep 2019 10:28:38 GMT
      Content-Length:
      - '1324'
    body:
      encoding: UTF-8
      string: '{"token_type":"Bearer","expires_in":"3600","ext_expires_in":"3600","expires_on":"1569497318","not_before":"1569493418","resource":"https://vault.azure.net","access_token":"<ACCESS_TOKEN>"}'
    http_version: 
  recorded_at: Thu, 26 Sep 2019 10:28:38 GMT
- request:
    method: post
    uri: https://vogon-development.vault.azure.net/keys/vogon-test/sign?api-version=7.0
    body:
      encoding: UTF-8
      string: '{"alg":"RS256","value":"D-MUXEux-z6vjyrghfhTLOoxMyIXwovxlRdNVeSzoaw="}'
    headers:
      Authorization:
      - "<ACCESS_TOKEN>"
      Content-Type:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - no-cache
      Pragma:
      - no-cache
      Content-Type:
      - application/json; charset=utf-8
      Expires:
      - "-1"
      Server:
      - Microsoft-IIS/10.0
      X-Ms-Keyvault-Region:
      - uksouth
      X-Ms-Request-Id:
      - '049990a1-5186-42c4-9f9f-fd5da47d4329'
      X-Ms-Keyvault-Service-Version:
      - 1.1.0.878
      X-Ms-Keyvault-Network-Info:
      - addr=193.240.66.150;act_addr_fam=InterNetwork;
      X-Aspnet-Version:
      - 4.0.30319
      X-Powered-By:
      - ASP.NET
      Strict-Transport-Security:
      - max-age=31536000;includeSubDomains
      X-Content-Type-Options:
      - nosniff
      Date:
      - Thu, 26 Sep 2019 10:28:38 GMT
      Content-Length:
      - '453'
    body:
      encoding: UTF-8
      string: '{"kid":"https://vogon-development.vault.azure.net/keys/vogon-test/a212573c9a82438a8e878b2549921cc9","value":"AJguY4sRE8MCTR1mnnlPc2tWub_GyaNMcoc_vnPEcDiDLzVKaZALEef9RxxK7031BjDOaljqgkKgeHjF1qyHoDgd5KlJyrYK4J53iTyLkkQNAhUgsVuHARsv9xVbz5CBin3wNgY3JRIWMe2neU37n23k4CnOMUZUvLGuziSnPAXkyZFQmmCZh_UJMu04dtiHTbIziSBclJmKIRvAv_ksY-3OdC3kCklcojWTihTjmr2hSXW-VW6GbZSMwmSWA6mZTDWIH4dWINpzv25jiFo1rJWEfDqdSLIJIxJil6ycJlFAK1q0o1qAHq-GRJ20nSH1lc-7CxB27B8332IRrV0MeQ"}'
    http_version: 
  recorded_at: Thu, 26 Sep 2019 10:28:38 GMT
recorded_with: VCR 5.0.0
